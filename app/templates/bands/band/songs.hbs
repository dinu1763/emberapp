{{page-title @model.name "Subtasks" replace=true}}

{{#if @model.songs.length}}
<ul>
    {{#each @model.songs as |song|}}
    <li class="mb-2">
        {{song.title}}
        <span class="float-right">
            <StarRating 
                @rating={{song.rating}}
                @onUpdate={{fn this.updateRating song}}
            />
        </span>
        <button class="inline-block ml-2 mt-2 p-2 rounded bg-blue-600 shadow-md hover:shadow-lg hover:text-black hover:bg-white focus:outline-none" type="button">Edit</button>
         <button class="inline-block ml-2 mt-2 p-2 rounded bg-red-600 shadow-md hover:shadow-lg hover:text-black hover:bg-white focus:outline-none" type="button">Delete</button>
    </li>
    {{/each}}
</ul>
{{else}}
<p class="text-center">
    The task has no subtasks yet.
</p>
{{/if}}
{{#if this.showAddSong}}
<div class="flex justify-center mt-2">
    <button
        type="button"
        class="px-4 py-2 rounded bg-purple-600 shadow-md hover:shadow-lg hover:text-white hover:bg-purple-600 focus:outline-none"
        {{on "click" (set this "showAddSong" false)}}
    >
        Add Subtask
    </button>
</div>
{{else}}
<div class="mt-6 flex">
    <input type="text"
    class="text-gray-800 bg-white rounded-md py-2 px-4"
    placeholder="Title"
    value={{this.title}}
    {{on "input" this.updateTitle}}
    />
    <button
    type="button"
    class="ml-4 px-4 py-2 rounded bg-purple-600 shadow-md hover:shadow-lg hover:text-white"
    {{on "click" this.saveSong}}
    >Save</button>
    <button
        type="button"
        class="ml-2 px-4 p-2 rounded bg-white border border-bg-purple-600 shadow-md text-purple-600 hover:shadow-lg"
        {{on "click" this.cancel}}
    >Cancel</button>
</div>
{{/if}}